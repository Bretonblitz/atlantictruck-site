<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Requests | Atlantic Truck & Equipment Repair</title>
  <meta name="description" content="Request service or parts from Atlantic Truck & Equipment Repair. Fast, detailed forms to reduce downtime.">
  <meta property="og:title" content="Requests | Atlantic Truck & Equipment Repair">
  <meta property="og:description" content="Request service or parts from Atlantic Truck & Equipment Repair. Fast, detailed forms to reduce downtime.">
  <meta property="og:image" content="https://static.wixstatic.com/media/ba2cd3_78abbb4da5a24f3abdc4657a9187a048~mv2.jpg/v1/fill/w_980,h_426,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/ba2cd3_78abbb4da5a24f3abdc4657a9187a048~mv2.jpg">
  <meta property="og:type" content="website"><meta property="og:locale" content="en_CA">
  <meta name="theme-color" content="#B9111B">
  <link rel="icon" type="image/png" href="https://static.wixstatic.com/media/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png/v1/fill/w_522,h_210,al_c,lg_1,q_85,enc_avif,quality_auto/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png">
  <link rel="apple-touch-icon" href="https://static.wixstatic.com/media/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png/v1/fill/w_522,h_210,al_c,lg_1,q_85,enc_avif,quality_auto/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png">
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
<!-- Emergency bar -->
<div class="emergency-bar">
  <div class="container row spread center">
    <strong>24/7 Emergency Recovery &amp; Towing</strong>
    <div class="row wrap">
      <a class="link-invert" href="tel:9025651730">After Hours: 902-565-1730</a>
      <span class="sm-hide">|</span>
      <a class="link-invert" href="tel:9025657211">902-565-7211</a>
      <a class="btn-light sm-hide" href="#service">Requests</a>
    </div>
  </div>
</div>

<!-- Header -->
<header class="site-header">
  <div class="container row spread center">
    <a class="brand row center" href="/index.html">
      <img class="logo" alt="Atlantic Truck & Equipment Repair logo" src="https://static.wixstatic.com/media/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png/v1/fill/w_522,h_210,al_c,lg_1,q_85,enc_avif,quality_auto/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png">
      <div>
        <div class="brand-title">Atlantic Truck &amp; Equipment Repair</div>
        <div class="brand-tag">Largest heavy equipment tow trucks east of Halifax</div>
      </div>
    </a>
    <nav class="main-nav">
      <button class="nav-toggle" aria-label="Toggle menu" onclick="document.getElementById('navList').classList.toggle('open')">☰</button>
      <ul class="nav-list" id="navList">
        <li><a href="/index.html">Home</a></li>
        <li class="has-sub"><a href="/services/index.html">Services</a>
          <ul class="sub">
            <li><a href="/services/emergency-towing.html">Emergency Towing</a></li>
            <li><a href="/services/towing.html">Towing</a></li>
            <li><a href="/services/repair.html">Repair</a></li>
            <li><a href="/services/inspection.html">Inspection</a></li>
            <li><a href="/services/authorized-parts.html">Authorized Parts</a></li>
            <li><a href="/services/welding.html">Welding</a></li>
          </ul>
        </li>
        <li><a href="/gallery.html">Gallery</a></li>
        <li><a href="/news.html">News</a></li>
        <li><a href="/service-area.html">Service Area</a></li>
        <li><a class="active" href="/requests.html">Requests</a></li>
        <li><a href="/contact.html">Contact</a></li>
      </ul>
    </nav>
    <!-- Smart CTA (site.js flips this by time-of-day) -->
    <div class="header-cta sm-hide">
      <a id="smartCta" class="btn" href="tel:9025394574" aria-label="Call 24/7 Dispatch">Call 24/7 Dispatch</a>
    </div>
  </div>
</header>

<section class="section">
  <div class="container">
    <h1>Request Service or Parts</h1>
    <p class="muted">For urgent roadside help, call after-hours above. For shop work and parts, use the forms below.</p>

    <div class="grid-2" style="margin-top:18px">
      <!-- SERVICE REQUEST -->
      <div id="service">
        <div class="card">
          <h2>Service Request</h2>
          <p>Tell us what you need. We’ll confirm availability and get you booked.</p>
          <form action="https://formsubmit.co/service@atlantictruck.ca" method="POST" enctype="multipart/form-data" novalidate>
            <!-- FormSubmit config -->
            <input type="hidden" name="_subject" value="Website Service Request">
            <input type="hidden" name="_captcha" value="true">
            <input type="hidden" name="_template" value="table">
            <!-- honeypot + timestamp -->
            <input type="text" name="_honey" tabindex="-1" autocomplete="off" style="display:none">
            <input type="hidden" name="_timestamp" id="srv_ts">

            <div class="grid-2">
              <label>Name*<input required name="name" autocomplete="name"></label>
              <label>Phone*<input required name="phone" inputmode="tel" autocomplete="tel" pattern="[0-9()+\\-\\s]{7,}" title="Use digits, spaces, () or -"></label>
            </div>
            <label>Email*<input required type="email" name="email" autocomplete="email"></label>

            <div class="grid-3">
              <label>Unit #<input name="unit_number" autocomplete="off" placeholder="e.g. Truck 21"></label>
              <label>Make/Model/Year<input name="make_model_year" placeholder="e.g. Freightliner Cascadia 2019"></label>
              <label>Full VIN*<input required name="vin" minlength="17" maxlength="17" pattern="[A-HJ-NPR-Za-hj-npr-z0-9]{17}" title="17 characters (no I, O, or Q)"></label>
            </div>

            <div class="grid-3">
              <label>Preferred Date*<input required type="date" name="preferred_date"></label>
              <label>Time Window
                <select name="time_window">
                  <option value="">No preference</option>
                  <option>Morning (8–12)</option>
                  <option>Afternoon (12–4:30)</option>
                </select>
              </label>
              <label>Service Type
                <select name="service_type">
                  <option>Diagnostics/Repair</option>
                  <option>Inspection (MVI/B-620)</option>
                  <option>Welding/Fabrication</option>
                  <option>Towing/Recovery</option>
                  <option>Other</option>
                </select>
              </label>
            </div>

            <fieldset class="card" style="margin-top:10px">
              <legend><strong>Where?</strong></legend>
              <div class="row wrap" style="gap:14px">
                <label><input type="radio" name="where" value="Shop" checked> At our shop</label>
                <label><input type="radio" name="where" value="On-site"> On-site / roadside</label>
              </div>
              <div id="onSiteFields" style="display:none; margin-top:10px">
                <div class="grid-2">
                  <label>Street/Location<input name="onsite_address" autocomplete="street-address" placeholder="Highway & km marker, or address"></label>
                  <label>City / Town<input name="onsite_city" autocomplete="address-level2"></label>
                </div>
                <div class="grid-2">
                  <label>Province<input name="onsite_province" value="NS" autocomplete="address-level1"></label>
                  <label>Postal Code<input name="onsite_postal" autocomplete="postal-code"></label>
                </div>
              </div>
            </fieldset>

            <label>Service Required*<textarea required name="service_required" rows="6" placeholder="Describe the issue or service needed"></textarea></label>

            <!-- Attach photos (sent as email attachments) -->
            <div class="grid-2">
              <label>Photo (optional)
                <input type="file" name="attachment" accept="image/*" capture="environment">
              </label>
              <label>Additional Photo (optional)
                <input type="file" name="attachment2" accept="image/*" capture="environment">
              </label>
            </div>
            <p class="small muted">Images are attached to the email. Max combined upload ~5&nbsp;MB per form.</p>

            <label>PO # / Reference<input name="po" placeholder="If you need it on the invoice"></label>

            <label class="small"><input type="checkbox" id="rememberSrv"> Remember my details on this device</label>
            <button class="btn" type="submit">Send Service Request</button>
            <p class="small muted">* Protected by CAPTCHA via formsubmit.co</p>
          </form>
        </div>
      </div>

      <!-- PARTS REQUEST -->
      <div id="parts">
        <div class="card">
          <h2>Parts Request</h2>
          <p>Authorized Freightliner® &amp; Western Star® parts. Share your full VIN for exact match.</p>
          <form action="https://formsubmit.co/parts@atlantictruck.ca" method="POST" enctype="multipart/form-data" novalidate>
            <!-- FormSubmit config -->
            <input type="hidden" name="_subject" value="Website Parts Request">
            <input type="hidden" name="_captcha" value="true">
            <input type="hidden" name="_template" value="table">
            <!-- honeypot + timestamp -->
            <input type="text" name="_honey" tabindex="-1" autocomplete="off" style="display:none">
            <input type="hidden" name="_timestamp" id="prt_ts">

            <div class="grid-2">
              <label>Name*<input required name="name" autocomplete="name"></label>
              <label>Phone*<input required name="phone" inputmode="tel" autocomplete="tel" pattern="[0-9()+\\-\\s]{7,}" title="Use digits, spaces, () or -"></label>
            </div>
            <label>Email*<input required type="email" name="email" autocomplete="email"></label>

            <div class="grid-3">
              <label>Make/Model/Year<input name="make_model_year" placeholder="e.g. Western Star 4900 2018"></label>
              <label>Unit #<input name="unit_number" autocomplete="off"></label>
              <label>Full VIN*<input required name="vin" minlength="17" maxlength="17" pattern="[A-HJ-NPR-Za-hj-npr-z0-9]{17}" title="17 characters (no I, O, or Q)"></label>
            </div>

            <div class="grid-2">
              <label>Part Number (if known)<input name="part_number" placeholder="e.g. A03-12345-000"></label>
              <label>Part Type / Description*<input required name="part_type" placeholder="e.g. brake drum, air dryer"></label>
            </div>

            <label>Quantity<input name="qty" type="number" min="1" step="1" placeholder="1"></label>
            <label>Notes<textarea name="notes" rows="4" placeholder="Symptoms, old part #, etc."></textarea></label>

            <!-- Attach photos (sent as email attachments) -->
            <div class="grid-2">
              <label>Part Photo (optional)
                <input type="file" name="attachment" accept="image/*" capture="environment">
              </label>
              <label>Additional Photo (optional)
                <input type="file" name="attachment2" accept="image/*" capture="environment">
              </label>
            </div>
            <p class="small muted">Images are attached to the email. Max combined upload ~5&nbsp;MB per form.</p>

            <label class="small"><input type="checkbox" id="rememberPrt"> Remember my details on this device</label>
            <button class="btn" type="submit">Send Parts Request</button>
            <p class="small muted">* Protected by CAPTCHA via formsubmit.co</p>
          </form>
        </div>
      </div>
    </div>

    <p class="small muted" style="margin-top:14px">We reply during business hours (Mon–Fri 8:00–4:30). For emergencies, please call.</p>
  </div>
</section>

<!-- Footer -->
<footer class="site-footer">
  <div class="container grid-4">
    <div>
      <div class="footer-title">Atlantic Truck &amp; Equipment Repair Ltd.</div>
      <p class="muted">Trusted for towing, repairs, inspections &amp; welding across Cape Breton and most of Nova Scotia.</p>
      <div class="row wrap" style="gap:12px;margin-top:10px">
        <img src="/assets/img/freightliner.png" alt="Freightliner logo" style="height:26px">
        <img src="/assets/img/western-star.png" alt="Western Star logo" style="height:26px">
      </div>
      <div style="margin-top:10px"><a href="https://www.facebook.com/profile.php?id=61579126693357" target="_blank" rel="noopener">📘 Follow us on Facebook</a></div>
    </div>
    <div>
      <div class="footer-title">Services</div>
      <ul class="plain">
        <li><a href="/services/emergency-towing.html">Emergency Towing</a></li>
        <li><a href="/services/towing.html">Towing</a></li>
        <li><a href="/services/repair.html">Repairs</a></li>
        <li><a href="/services/inspection.html">Inspections</a></li>
        <li><a href="/services/authorized-parts.html">Authorized Parts</a></li>
        <li><a href="/services/welding.html">Welding</a></li>
      </ul>
    </div>
    <div>
      <div class="footer-title">Contact</div>
      <ul class="plain">
        <li>Main: <a href="tel:9025394574">902-539-4574</a></li>
        <li>Service: <a href="mailto:service@atlantictruck.ca">service@atlantictruck.ca</a></li>
        <li>Parts: <a href="mailto:parts@atlantictruck.ca">parts@atlantictruck.ca</a></li>
        <li>Office: <a href="mailto:office@atlantictruck.ca">office@atlantictruck.ca</a></li>
        <li>After Hours: <a href="tel:9025651730">902-565-1730</a> / <a href="tel:9025657211">902-565-7211</a></li>
        <li>Hours: Mon–Fri 8:00 AM – 4:30 PM</li>
      </ul>
    </div>
    <div>
      <div class="footer-title">Find Us</div>
      <address class="muted small">
        417 Gulf Crescent, Edwardsville, NS B2A 4T9
      </address>
      <a class="btn-light" target="_blank" href="https://maps.google.com/?q=417%20Gulf%20Crescent,%20Edwardsville,%20NS%20B2A%204T9">Directions</a>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="container row spread small">
      <span>© 2025 Atlantic Truck &amp; Equipment Repair Ltd.</span>
      <span>Edwardsville, Nova Scotia</span>
    </div>
  </div>
</footer>

<div class="action-bar md-hide">
  <a href="tel:9025394574">Call</a>
  <a target="_blank" href="https://maps.google.com/?q=417%20Gulf%20Crescent,%20Edwardsville,%20NS%20B2A%204T9">Directions</a>
  <a href="#service">Book Service</a>
</div>

<!-- Page JS: smart CTA + on-site toggle + VIN/remember helpers + spam timestamp + file size guard -->
<script src="/assets/js/site.js?v=20250815" defer></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // timestamps (basic spam signal)
  const now = Date.now();
  const srv = document.getElementById('srv_ts'); if (srv) srv.value = now;
  const prt = document.getElementById('prt_ts'); if (prt) prt.value = now;

  // Show on-site address fields when chosen
  const onSiteFields = document.getElementById('onSiteFields');
  document.querySelectorAll('input[name="where"]').forEach(r => {
    r.addEventListener('change', () => {
      onSiteFields.style.display = r.value === 'On-site' && r.checked ? 'block' : 'none';
    });
  });

  // VIN: auto uppercase & strip spaces
  document.querySelectorAll('input[name="vin"]').forEach(inp => {
    inp.addEventListener('input', () => { inp.value = inp.value.toUpperCase().replace(/\s+/g,''); });
  });

  // Local remember (name/phone/email) if user opts in
  function saveIfChecked(prefix){
    const box = document.getElementById('remember' + prefix);
    if (!box || !box.checked) return;
    const form = box.closest('form');
    const obj = {
      name: form.querySelector('input[name="name"]')?.value || '',
      phone: form.querySelector('input[name="phone"]')?.value || '',
      email: form.querySelector('input[name="email"]')?.value || ''
    };
    try { localStorage.setItem('atlantictruck_contact', JSON.stringify(obj)); } catch(e){}
  }
  function prefill(){
    try {
      const raw = localStorage.getItem('atlantictruck_contact');
      if (!raw) return;
      const data = JSON.parse(raw);
      document.querySelectorAll('form').forEach(f=>{
        if (data.name && f.querySelector('input[name="name"]')) f.querySelector('input[name="name"]').value = data.name;
        if (data.phone && f.querySelector('input[name="phone"]')) f.querySelector('input[name="phone"]').value = data.phone;
        if (data.email && f.querySelector('input[name="email"]')) f.querySelector('input[name="email"]').value = data.email;
      });
    } catch(e){}
  }
  prefill();
  const srvForm = document.querySelector('#service form');
  const prtForm = document.querySelector('#parts form');
  if (srvForm) srvForm.addEventListener('submit', ()=>saveIfChecked('Srv'));
  if (prtForm) prtForm.addEventListener('submit', ()=>saveIfChecked('Prt'));

  // File size guard (~5MB total per form for FormSubmit)
  function bindSizeGuard(form){
    const limit = 5 * 1024 * 1024; // 5MB
    const inputs = form.querySelectorAll('input[type="file"]');
    function total(){
      let bytes = 0;
      inputs.forEach(i => { if (i.files && i.files[0]) bytes += i.files[0].size || 0; });
      return bytes;
    }
    function showWarning(show){
      let el = form.querySelector('.filesize-warning');
      if (!el){ el = document.createElement('p'); el.className='small muted filesize-warning'; form.appendChild(el); }
      el.textContent = show ? 'Selected images are too large. Please keep combined size under ~5 MB.' : '';
    }
    inputs.forEach(i => i.addEventListener('change', ()=>{
      showWarning(total() > limit);
    }));
    form.addEventListener('submit', (e)=>{
      if (total() > limit){
        e.preventDefault();
        showWarning(true);
        alert('Images too large. Please keep combined size under ~5 MB and try again.');
      }
    });
  }
  if (srvForm) bindSizeGuard(srvForm);
  if (prtForm) bindSizeGuard(prtForm);
});
</script>
</body>
</html>
