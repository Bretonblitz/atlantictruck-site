<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>News | Atlantic Truck & Equipment Repair</title>
  <meta name="description" content="Trucking and highway news with a focus on Cape Breton and Atlantic Canada.">
  <meta property="og:title" content="News | Atlantic Truck & Equipment Repair">
  <meta property="og:description" content="Latest trucking and highway updates for Cape Breton and Atlantic Canada.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_CA">
  <meta name="theme-color" content="#B9111B">
  <link rel="icon" type="image/png" href="https://static.wixstatic.com/media/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png/v1/fill/w_522,h_210,al_c,lg_1,q_85,enc_avif,quality_auto/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png">
  <link rel="apple-touch-icon" href="https://static.wixstatic.com/media/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png/v1/fill/w_522,h_210,al_c,lg_1,q_85,enc_avif,quality_auto/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png">
  <link rel="stylesheet" href="/assets/css/style.css">

  <style>
    /* minimal layout touches for the feed */
    .news-feed { display: grid; gap: 18px; }
    .news-card { border:1px solid #e6e6e6; border-radius:12px; overflow:hidden; background:#fff; }
    .news-card .img-wrap { width:100%; position:relative; overflow:hidden; background:#f5f5f5; }
    .news-card img { width:100%; height:auto; display:block; }
    .news-card .body { padding:14px; }
    .news-card .meta { font-size:12px; color:#6b7280; margin-bottom:6px; }
    .news-card h3 { margin:0 0 8px; font-size:18px; line-height:1.25; }
    .news-card p { margin:0; }
    .news-card .actions { margin-top:10px; display:flex; gap:10px; align-items:center; }
    .read-more { color:#B9111B; font-weight:600; text-decoration:none; }
    .sources { margin-top:16px; font-size:13px; color:#6b7280; }
    .skeleton { border-radius:12px; height:140px; background:linear-gradient(90deg,#eee,#f5f5f5,#eee); animation:s 1.2s infinite; }
    @keyframes s { 0%{background-position:-200px 0} 100%{background-position:calc(200px + 100%) 0} }
    @media (min-width: 900px){ .news-feed { grid-template-columns: 1fr 1fr; } }
  </style>
</head>
<body>
<!-- Emergency bar -->
<div class="emergency-bar">
  <div class="container row spread center">
    <strong>24/7 Emergency Recovery &amp; Towing</strong>
    <div class="row wrap">
      <a class="link-invert" href="tel:9025651730">After Hours: 902-565-1730</a>
      <span class="sm-hide">|</span>
      <a class="link-invert" href="tel:9025657211">902-565-7211</a>
      <a class="btn-light sm-hide" href="/requests.html">Requests</a>
    </div>
  </div>
</div>

<!-- Header -->
<header class="site-header">
  <div class="container row spread center">
    <a class="brand row center" href="/index.html">
      <img class="logo" alt="Atlantic Truck & Equipment Repair logo" src="https://static.wixstatic.com/media/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png/v1/fill/w_522,h_210,al_c,lg_1,q_85,enc_avif,quality_auto/ba2cd3_4e99b20ca6934c6d9fbfdec7aafd3952~mv2.png">
      <div>
        <div class="brand-title">Atlantic Truck &amp; Equipment Repair</div>
        <div class="brand-tag">Largest heavy equipment tow trucks east of Halifax</div>
      </div>
    </a>
    <nav class="main-nav">
      <button class="nav-toggle" aria-label="Toggle menu" onclick="document.getElementById('navList').classList.toggle('open')">â˜°</button>
      <ul class="nav-list" id="navList">
        <li><a href="/index.html">Home</a></li>
        <li class="has-sub"><a href="/services/index.html">Services</a>
          <ul class="sub">
            <li><a href="/services/emergency-towing.html">Emergency Towing</a></li>
            <li><a href="/services/towing.html">Towing</a></li>
            <li><a href="/services/repair.html">Repair</a></li>
            <li><a href="/services/inspection.html">Inspection</a></li>
            <li><a href="/services/authorized-parts.html">Authorized Parts</a></li>
            <li><a href="/services/welding.html">Welding</a></li>
          </ul>
        </li>
        <li><a href="/gallery.html">Gallery</a></li>
        <li><a class="active" href="/news.html">News</a></li>
        <li><a href="/service-area.html">Service Area</a></li>
        <li><a href="/requests.html">Requests</a></li>
        <li><a href="/contact.html">Contact</a></li>
      </ul>
    </nav>
    <!-- Smart CTA (same logic as other pages; site.js updates text/number by time) -->
    <div class="header-cta sm-hide">
      <a id="smartCta" class="btn" href="tel:9025394574" aria-label="Call 24/7 Dispatch">Call 24/7 Dispatch</a>
    </div>
  </div>
</header>

<!-- Content -->
<section class="section">
  <div class="container">
    <h1>News</h1>
    <div id="newsFeed" class="news-feed" aria-live="polite">
      <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
    </div>
    <div style="margin-top:16px">
      <a class="btn-light" target="_blank" rel="noopener" href="https://www.trucknews.com/">See more news</a>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="site-footer">
  <div class="container grid-4">
    <div>
      <div class="footer-title">Atlantic Truck &amp; Equipment Repair Ltd.</div>
      <p class="muted">Trusted for towing, repairs, inspections &amp; welding across Cape Breton and most of Nova Scotia.</p>
      <div class="row wrap" style="gap:12px;margin-top:10px">
        <img src="/assets/img/freightliner.png" alt="Freightliner logo" style="height:26px">
        <img src="/assets/img/western-star.png" alt="Western Star logo" style="height:26px">
      </div>
      <div style="margin-top:10px"><a href="https://www.facebook.com/profile.php?id=61579126693357" target="_blank" rel="noopener">ðŸ“˜ Follow us on Facebook</a></div>
    </div>
    <div>
      <div class="footer-title">Services</div>
      <ul class="plain">
        <li><a href="/services/emergency-towing.html">Emergency Towing</a></li>
        <li><a href="/services/towing.html">Towing</a></li>
        <li><a href="/services/repair.html">Repairs</a></li>
        <li><a href="/services/inspection.html">Inspections</a></li>
        <li><a href="/services/authorized-parts.html">Authorized Parts</a></li>
        <li><a href="/services/welding.html">Welding</a></li>
      </ul>
    </div>
    <div>
      <div class="footer-title">Contact</div>
      <ul class="plain">
        <li>Main: <a href="tel:9025394574">902-539-4574</a></li>
        <li>Service: <a href="mailto:service@atlantictruck.ca">service@atlantictruck.ca</a></li>
        <li>Parts: <a href="mailto:parts@atlantictruck.ca">parts@atlantictruck.ca</a></li>
        <li>Office: <a href="mailto:office@atlantictruck.ca">office@atlantictruck.ca</a></li>
        <li>After Hours: <a href="tel:9025651730">902-565-1730</a> / <a href="tel:9025657211">902-565-7211</a></li>
        <li>Hours: Monâ€“Fri 8:00 AM â€“ 4:30 PM</li>
      </ul>
    </div>
    <div>
      <div class="footer-title">Find Us</div>
      <address class="muted small">
        417 Gulf Crescent, Edwardsville, NS B2A 4T9
      </address>
      <a class="btn-light" target="_blank" href="https://maps.google.com/?q=417%20Gulf%20Crescent,%20Edwardsville,%20NS%20B2A%204T9">Directions</a>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="container row spread small">
      <span>Â© 2025 Atlantic Truck &amp; Equipment Repair Ltd.</span>
      <span>Edwardsville, Nova Scotia</span>
    </div>
  </div>
</footer>

<div class="action-bar md-hide">
  <a href="tel:9025394574">Call</a>
  <a target="_blank" href="https://maps.google.com/?q=417%20Gulf%20Crescent,%20Edwardsville,%20NS%20B2A%204T9">Directions</a>
  <a href="/requests.html">Requests</a>
</div>

<!-- Your global site script (keeps the smart CTA behavior consistent) -->
<script src="/assets/js/site.js?v=20250816" defer></script>

<!-- Page-only script to render news -->
<script>
(function(){
  const feedEl = document.getElementById('newsFeed');

  const words = (s) => (s||'').trim().split(/\s+/);
  const shortText = (s, max) => {
    const w = words(s);
    if (w.length <= max) return {text: s, truncated:false};
    return {text: w.slice(0,max).join(' ') + 'â€¦', truncated:true};
  };
  const fmtDate = s => { try{ return new Date(s).toLocaleDateString(); }catch(_){ return ''; } };

  async function loadNews(){
    try{
      const res = await fetch('/.netlify/functions/get-truck-news?limit=10', { cache: 'no-store' });
      const json = await res.json();
      const items = (json && json.data) ? json.data : [];
      feedEl.innerHTML = '';
      if(!items.length){ feedEl.innerHTML = '<p class="muted">No recent articles.</p>'; return; }

      for(const it of items){
        const card = document.createElement('article');
        card.className = 'news-card';

        const img = it.image ? `<div class="img-wrap"><img loading="lazy" src="${it.image}" alt=""></div>` : '';
        const title = it.title || 'Untitled';
        const date  = fmtDate(it.date);
        const sum   = it.summary || '';
        const preview = shortText(sum, 50);

        card.innerHTML = `
          ${img}
          <div class="body">
            <div class="meta">${date}${it.source ? ' â€¢ ' + it.source : ''}</div>
            <h3>${title}</h3>
            <p class="excerpt">${preview.text}</p>
            <div class="actions">
              <a class="btn-light" target="_blank" rel="noopener" href="${it.link}">Read full story</a>
              ${preview.truncated ? '<a href="#" class="read-more">Read more</a>' : ''}
            </div>
          </div>
        `;

        // expand/collapse
        const more = card.querySelector('.read-more');
        if (more) {
          more.addEventListener('click', e => {
            e.preventDefault();
            const p = card.querySelector('.excerpt');
            p.textContent = sum;
            more.remove();
          });
        }

        feedEl.appendChild(card);
      }
    } catch(e){
      console.error(e);
      feedEl.innerHTML = '<p class="muted">Couldnâ€™t load news right now.</p>';
    }
  }

  document.addEventListener('DOMContentLoaded', loadNews);
})();
</script>
</body>
</html>
